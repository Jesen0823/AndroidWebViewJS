<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advance WebView - 安全防御测试</title>
    <link rel="stylesheet" href="style.css">
    <!-- 新增：预加载样式容错 -->
    <style>
        .hidden { display: none !important; }
        .result-area { min-height: 120px; padding: 12px; border: 1px solid #e4e7ed; border-radius: 8px; margin-top: 8px; overflow-y: auto; }
        .btn { padding: 12px 24px; background: #1f6fff; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; transition: background 0.3s; }
        .btn:hover { background: #0e56d9; }
        .card { padding: 20px; background: #fff; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        .card-title { font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #1f2937; }
        .info { color: #6b7280; }
        .success { color: #00b42a; }
        .error { color: #f53f3f; }
        .header { margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid #e4e7ed; }
        .header h1 { font-size: 20px; color: #1f2937; margin: 0 0 8px 0; }
        .header p { font-size: 14px; color: #6b7280; margin: 0; }
        .footer { margin-top: 32px; padding-top: 16px; border-top: 1px solid #e4e7ed; text-align: center; font-size: 12px; color: #9ca3af; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Advance Enterprise WebView</h1>
        <p>安全防御测试：URL 校验 + XSS 过滤 + 恶意脚本拦截</p>
    </div>

    <div class="security-alert">
        <div class="alert-title">安全预警</div>
        <div class="alert-content">
            本页面仅用于测试安全防御功能，请勿输入真实敏感信息！<br/>
            支持测试：非法 URL、XSS 恶意脚本、本地文件访问。
        </div>
    </div>

    <!-- URL 校验模块 -->
    <div class="card">
        <div class="card-title">URL 安全校验</div>
        <div class="input-area">
            <div class="input-group">
                <label class="input-label" for="testUrl">输入测试 URL</label>
                <input type="text" id="testUrl" class="input-control" placeholder="例如：https://www.baidu.com 或 file:///sdcard/test.txt" aria-label="测试URL输入框">
            </div>
            <button class="btn" onclick="callCheckUrlSafety()" aria-label="校验URL安全性按钮">校验 URL 安全性</button>
        </div>
    </div>

    <!-- XSS 过滤模块 -->
    <div class="card">
        <div class="card-title">XSS 内容过滤</div>
        <div class="input-area">
            <div class="input-group">
                <label class="input-label" for="testXss">输入测试 XSS 内容</label>
                <textarea id="testXss" class="input-control" rows="4" placeholder="例如：<script>alert('xss')</script> 或 javascript:eval('alert(1)')" aria-label="测试XSS输入框"></textarea>
            </div>
            <button class="btn" onclick="callFilterXssContent()" aria-label="过滤XSS内容按钮">过滤 XSS 恶意内容</button>
        </div>
    </div>

    <!-- 安全配置模块 -->
    <div class="card">
        <div class="card-title">安全配置信息</div>
        <div class="security-success">
            <div class="success-title">当前安全配置</div>
            <div id="securityConfig" class="success-content">
                加载安全配置中...
            </div>
        </div>
    </div>

    <!-- 安全日志模块 -->
    <div class="card">
        <div class="card-title">安全日志</div>
        <div id="advanceInjectResult" class="result-area">
            <p class="info">页面加载完成，等待执行安全测试操作...</p>
        </div>
    </div>

    <div class="footer">
        © 2024 Advance Enterprise WebView | 企业级 WebView 安全防御方案
    </div>

    <script src="app.js"></script>
</body>
</html>